{
  "hash": "80aadc321914614d0aa68979918cc8b3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Clase teórica Semana 11\"\nauthor: \"Marylia Cruz\"\ndate: \"2025-06-02\"\nformat: html\nexecute: \n  echo: true\n  message: false\ndf-print: paged\ncode-annotations: hover\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rio)\nlibrary(dplyr)\nlibrary(scales)\ndata=import(\"data/MDb Top Rated Titles.xlsx\")\n\ndata=data %>% \n  filter(!is.na(type)) # removemos valores perdidos en la variable type\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntabla_porcentajes= data %>%\n  count(type) %>%\n mutate(porcentaje = n / sum(n) * 100)  # Calculamos el porcentaje\ntabla_porcentajes\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"type\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"porcentaje\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"movie\",\"2\":\"4105\",\"3\":\"68.042433\"},{\"1\":\"tvMiniSeries\",\"2\":\"278\",\"3\":\"4.607989\"},{\"1\":\"tvSeries\",\"2\":\"1650\",\"3\":\"27.349577\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nggplot(tabla_porcentajes, aes(x=type,y=porcentaje, fill=type))+\n  geom_bar(stat = \"identity\")+\n    coord_flip()+\n  labs(title = \"Gráfico de barras de porcentaje de peliculas por tipo\",\n       x = \"tipo\",\n       y = \"Porcentaje\") +\n  geom_text(aes(label=round(porcentaje,1)), vjust=-0.3) +\n  theme_minimal() +  # Tema minimalista\n  scale_fill_brewer(palette = \"Set3\") \n```\n\n::: {.cell-output-display}\n![](semana11_teoria_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"id\"            \"title\"         \"type\"          \"genres\"       \n[5] \"averageRating\" \"numVotes\"      \"releaseYear\"  \n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntabla_edescriptivos=data%>%\n  summarise(promedio=mean(averageRating,na.rm=T),\n            mediana=median(averageRating,na.rm=T),\n            minimo=min(averageRating,na.rm=T),\n            maximo=max(averageRating,na.rm=T),\n            desviacion=sd(averageRating,na.rm=T))\n\ntabla_edescriptivos\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"promedio\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mediana\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"minimo\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"maximo\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"desviacion\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"7.700597\",\"2\":\"7.6\",\"3\":\"7.1\",\"4\":\"9.5\",\"5\":\"0.4659454\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntabla_edescriptivos=data%>%\n  group_by(type)%>%\n  summarise(promedio=mean(averageRating,na.rm=T),\n            mediana=median(averageRating,na.rm=T),\n            minimo=min(averageRating,na.rm=T),\n            maximo=max(averageRating,na.rm=T),\n            desviacion=sd(averageRating,na.rm=T))\n\ntabla_edescriptivos\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"type\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"promedio\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mediana\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"minimo\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"maximo\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"desviacion\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"movie\",\"2\":\"7.583484\",\"3\":\"7.5\",\"4\":\"7.1\",\"5\":\"9.3\",\"6\":\"0.3878768\"},{\"1\":\"tvMiniSeries\",\"2\":\"7.928058\",\"3\":\"7.9\",\"4\":\"7.1\",\"5\":\"9.5\",\"6\":\"0.5540828\"},{\"1\":\"tvSeries\",\"2\":\"7.953636\",\"3\":\"7.9\",\"4\":\"7.1\",\"5\":\"9.5\",\"6\":\"0.5111036\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nggplot(data,aes(y=averageRating,x=type))+\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](semana11_teoria_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nggplot(data,aes(y=numVotes,x=type))+\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](semana11_teoria_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(data$type)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n       movie tvMiniSeries     tvSeries \n        4105          278         1650 \n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = averageRating, fill = type)) +\n  geom_histogram() +\n  facet_wrap(~ type, scales = \"free\") +  # Divide en facetas por grupo\n  labs(title = \"Histogramas de Variable Numérica por Grupo\",\n       x = \"Valor\", y = \"Frecuencia\") \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](semana11_teoria_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = numVotes, fill = type)) +\n  geom_histogram() +\n  facet_wrap(~ type, scales = \"free\") +  # Divide en facetas por grupo\n  scale_x_continuous(n.breaks = 3, labels = label_number()) + # especificar 2 cortes en eje x y evitar numeros en notacion cientifica\n  labs(title = \"Histogramas de Variable Numérica por Grupo\",\n       x = \"Valor\", y = \"Frecuencia\") \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](semana11_teoria_files/figure-html/unnamed-chunk-11-1.png){width=864}\n:::\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = averageRating, fill = type)) +\n  geom_histogram(binwidth = 2, alpha = 0.6, position = \"identity\", color = \"black\") +\n  labs(title = \"Histograma de Variable Numérica por Grupo\",\n       x = \"Valor\", y = \"Frecuencia\") +\n  theme_minimal() +\n  scale_fill_manual(values = c(\"movie\" = \"red\", \"tvMiniSeries\" = \"blue\", \"tvSeries\" = \"green\"))  # Colores por grupo\n```\n\n::: {.cell-output-display}\n![](semana11_teoria_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "semana11_teoria_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}