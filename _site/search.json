[
  {
    "objectID": "semana12_teoria.html",
    "href": "semana12_teoria.html",
    "title": "Clase teórica Semana 12",
    "section": "",
    "text": "library(rio)\ndata=import(\"data/Data_ejemplo_comunica.xlsx\")\n\n\nnames(data)\n\n[1] \"N\"                               \"Nivel de procastinacion\"        \n[3] \"RedSocial\"                       \"Tiempo en redes sociales\"       \n[5] \"Le gusta Leer\"                   \"Numero de interacciones diarias\"\n[7] \"Numero de Seguidores\"           \n\n\n\ntabla1=table(data$`Nivel de procastinacion`,data$RedSocial)\nprint(tabla1)\n\n       \n        Instagram Tiktok Twitter\n  Alto         20     33      15\n  Bajo         20     15      30\n  Medio        22     20      25\n\n\n\nchisq.test(table(data$`Nivel de procastinacion`,data$RedSocial))$expected\n\n       \n        Instagram Tiktok Twitter\n  Alto      21.08  23.12   23.80\n  Bajo      20.15  22.10   22.75\n  Medio     20.77  22.78   23.45\n\n\n\nchisq.test(tabla1)$expected\n\n       \n        Instagram Tiktok Twitter\n  Alto      21.08  23.12   23.80\n  Bajo      20.15  22.10   22.75\n  Medio     20.77  22.78   23.45\n\n\n\nchisq.test(tabla1)\n\n\n    Pearson's Chi-squared test\n\ndata:  tabla1\nX-squared = 12.638, df = 4, p-value = 0.01319\n\n\nHipotesis nula: No hay asociación entre el nivel de procastinacion y la red social más consumida. Dado que el p-valor es menor que 0.05, rechazo la Hipótesis nula.\nEn conclusión a un 95% de nivel de confianza,si está asociados el nivel de procastinación con la red social más consumida.\n\naddmargins(prop.table(tabla1,2)*100)\n\n       \n        Instagram    Tiktok   Twitter       Sum\n  Alto   32.25806  48.52941  21.42857 102.21605\n  Bajo   32.25806  22.05882  42.85714  97.17403\n  Medio  35.48387  29.41176  35.71429 100.60992\n  Sum   100.00000 100.00000 100.00000 300.00000\n\n\n\nlibrary(dplyr)\n\n\ntabla2 = tabla1 %&gt;%\n  prop.table(2)%&gt;%\n  round(3)*100 \ntabla2\n\n       \n        Instagram Tiktok Twitter\n  Alto       32.3   48.5    21.4\n  Bajo       32.3   22.1    42.9\n  Medio      35.5   29.4    35.7\n\n\n\ntabla3=as.data.frame(tabla2)\n\n\nlibrary(forcats)\ntabla3$Var1 &lt;- fct_relevel(tabla3$Var1, \"Alto\", \"Medio\", \"Bajo\")\n\n\nlibrary(ggplot2)\nggplot(data=tabla3, aes(x=Var2,y=Freq,fill=Var1))+\n  geom_bar(position = \"stack\",stat = \"identity\")+\n  geom_text(aes(label=paste(round(Freq,0), \"%\", sep=\"\")), \n            position = position_stack(), vjust=1, size = 3)+\n  labs(x=\"Red Social\", y=\"Porcentaje\", fill=\"Nivel de procastinación\")+\n  scale_fill_manual(values = c(\"#CD3333\",\"pink\", \"bisque\"))"
  },
  {
    "objectID": "semana11.html",
    "href": "semana11.html",
    "title": "Clase práctica Semana 11",
    "section": "",
    "text": "Material para el ejercicio\n\n\n\nDescarga la carpeta .zip para acceder al material de esta sesión. Haga click en el siguiente enlace. No olvides unzipear el archivo."
  },
  {
    "objectID": "semana11.html#cargar-paquetes",
    "href": "semana11.html#cargar-paquetes",
    "title": "Clase práctica Semana 11",
    "section": "Cargar paquetes",
    "text": "Cargar paquetes\n\npacman::p_load(rio, dplyr, ggplot2)"
  },
  {
    "objectID": "semana11.html#importación-de-data",
    "href": "semana11.html#importación-de-data",
    "title": "Clase práctica Semana 11",
    "section": "Importación de data",
    "text": "Importación de data\n\ndf &lt;- import(\"data/filmaffinity_dataset_limpio.xlsx\")"
  },
  {
    "objectID": "semana11.html#exploración-de-data",
    "href": "semana11.html#exploración-de-data",
    "title": "Clase práctica Semana 11",
    "section": "Exploración de data",
    "text": "Exploración de data\n\nstr(df)\n\n'data.frame':   119003 obs. of  9 variables:\n $ index     : num  0 1 2 3 4 5 6 7 8 9 ...\n $ Título    : chr  \"'49-'17\" \"10,000 Years B.C. (C)\" \"1812\" \"20.000 leguas de viaje submarino (C)\" ...\n $ Año       : num  1917 1916 1912 1907 1909 ...\n $ País      : chr  \"Estados Unidos\" \"Estados Unidos\" \"Rusia\" \"Francia\" ...\n $ Dirección : chr  \"Ruth Ann Baldwin\" \"Willis H. O'Brien\" \"Vasili Goncharov, Kai Hansen, Aleksandr Uralsky\" \"Georges Méliès\" ...\n $ Reparto   : chr  \"Joseph W. Girard, Leo Pierson, William Dyer, Mattie Witting, George C. Pearce, Jean Hersholt, Donna Drew\" NA \"Pavel Knorr, Vasili Goncharov, Aleksandra Goncharova, Andrej Gromov, V. Serjozhinikov, A. Veskov\" \"Georges Méliès\" ...\n $ Nota      : num  NA 5.1 NA 6 5.3 NA 5.4 NA 4.6 NA ...\n $ Tipo filme: chr  \"Película\" \"Cortometraje\" \"Película\" \"Cortometraje\" ...\n $ Género    : chr  \"Western\" \"Comedia\" \"Drama\" \"Fantástico\" ..."
  },
  {
    "objectID": "semana11.html#gráfico-de-barras",
    "href": "semana11.html#gráfico-de-barras",
    "title": "Clase práctica Semana 11",
    "section": "Gráfico de barras",
    "text": "Gráfico de barras\n\n¿Qué variable podemos representar con un gráfico de barras?\nAntes de graficar, vamos a crear una tabla de frecuencias y porcentajes usando count y mutate, como ya hemos aprendido. Esta tabla se usará como base para construir los gráficos con el paquete {ggplot2}.\nEste paquete funciona por capas: cada capa agrega elementos o configuraciones al gráfico. Empezaremos con una estructura básica para generar gráficos de barras, uniendo las capas con el símbolo +.\n\ntab_bars &lt;- df %&gt;%\n  count(`Tipo filme`) %&gt;% \n  mutate(pct = n / sum(n) * 100)\n\n1ggplot(tab_bars, aes(x = `Tipo filme`, y = pct)) +\n2  geom_col()\n\n\n1\n\nEn la función ggplot existe el argumento data donde ingresamos nuestro objeto tab_bars. Los elementos que deseamos graficar van en la función aes.\n\n2\n\nIndicamos el tipo de gráfico con geom_col().\n\n\n\n\n\n\n\n\n\n\n\nProbemos añadir más capas para personalizar el gráfico y hacerlo más visualmente claro y llamativo\n\n1ggplot(tab_bars, aes(x = `Tipo filme`, y = pct)) +\n2  geom_col(fill = \"steelblue\") +\n3  labs(title = \"Gráfico 1: Tipo de filme (%)\",\n       x = \"Tipo de filme\",\n       y = \"Porcentaje\") +\n4  theme_minimal()\n\n\n1\n\nDentro de la función ggplot, ingresamos en el argumento data nuestro objeto tab_bars. Los elementos que deseamos graficar van en la función aes.\n\n2\n\nIndicamos el tipo de gráfico con geom_col(). Agregamos el argumento fill para indicar el color que rellenará las barras.\n\n3\n\nCon labs (abreviatura de labels), indicamos etiquetas para el título y ejes x e y.\n\n4\n\ntheme_minimal nos da una visualización más limpia quitando el fondo gris.\n\n\n\n\n\n\n\n\n\n\n\nLa versatilidad de {ggplot2} nos permite personalizar distintas combinaciones.\n\n1ggplot(tab_bars, aes(x = `Tipo filme`, y = pct, fill = `Tipo filme`)) +\n2  geom_col() +\n3  labs(title = \"Gráfico 1: Tipo de filme (%)\",\n       x = \"Tipo de filme\",\n       y = \"Porcentaje\") +\n4  coord_flip() +\n5  theme_minimal() +\n6  scale_fill_brewer(palette = \"Set3\")\n\n\n1\n\nDentro de la función ggplot, ingresamos en el argumento data nuestro objeto tab_bars. Los elementos que deseamos graficar van en la función aes.\n\n2\n\nIndicamos el tipo de gráfico con geom_col().\n\n3\n\nCon labs (abreviatura de labels), indicamos etiquetas para el título y ejes x e y.\n\n4\n\ncoord_flip gira los ejes para darnos barras horizontales.\n\n5\n\ntheme_minimal nos da una visualización más limpia quitando el fondo gris.\n\n6\n\nEn scale_fill_brewer indicamos una paleta de colores para usar.\n\n\n\n\n\n\n\n\n\n\n\nTambién podemos cruzar variables.\n\ndf2 &lt;- df %&gt;% \n1  mutate(Nota_cat =\n           case_when(Nota &lt; 5 ~ \"Menos de 5\",\n                     Nota &gt;= 5 ~ \"5 a más\",\n                     is.na(Nota) ~ \"Sin nota\"),\n2         Nota_cat =\n           factor(Nota_cat, \n                  levels = c(\"Sin nota\", \"5 a más\", \"Menos de 5\"),\n                  ordered = TRUE))\n\ntab_bars2 &lt;- df2 %&gt;%\n3  group_by(`Tipo filme`) %&gt;%\n  count(Nota_cat) %&gt;% \n  mutate(pct = round(n / sum(n) * 100, 0))\n\n4ggplot(tab_bars2, aes(x = `Tipo filme`, y = pct, fill = Nota_cat)) +\n5  geom_col() +\n6  labs(title = \"Gráfico 1: Tipo de filme (%)\",\n       x = \"Tipo de filme\",\n       y = \"Porcentaje\") +\n7  geom_text(aes(label = pct), position = position_stack(vjust = 0.5)) +\n8  theme_minimal() +\n9  scale_fill_brewer(palette = \"Set3\")\n\n\n1\n\nCreamos una variable categórica a partir de Nota con mutate y case_when.\n\n2\n\nVolvemos nuestra variable Nota_cat un factor ordenado para ordenar las categorías.\n\n3\n\nCreamos nuestra tabla y añadimos la función group_by para calcular las frecuencias de Nota_cat dentro de cada tipo de filme.\n\n4\n\nDentro de la función ggplot, ingresamos en el argumento data nuestro objeto tab_bars2. Los elementos que deseamos graficar van en la función aes. Añadimos en aes el argumento fill para colorear individualmente cada categoría de Nota_cat.\n\n5\n\nIndicamos el tipo de gráfico con geom_col().\n\n6\n\nCon labs (abreviatura de labels), indicamos etiquetas para el título y ejes x e y.\n\n7\n\ngeom_text sirve para colocar las etiquetas de los valores.\n\n8\n\ntheme_minimal nos da una visualización más limpia quitando el fondo gris.\n\n9\n\nEn scale_fill_brewer indicamos una paleta de colores para usar."
  },
  {
    "objectID": "semana11.html#histograma",
    "href": "semana11.html#histograma",
    "title": "Clase práctica Semana 11",
    "section": "Histograma",
    "text": "Histograma\n¿Qué variable podemos representar con un histograma?\n\n1ggplot(df, aes(x = Año)) +\n2  geom_histogram(fill = \"steelblue\") +\n3  labs(title = \"Gráfico 2: Año de estreño de filmes\",\n       x = \"Año\",\n       y = \"Frecuencia\") +\n4  theme_minimal()\n\n\n1\n\nDentro de la función ggplot, ingresamos en el argumento data nuestro objeto df y los elementos que deseamos graficar en la función aes (solamente usamos el argumento x en este caso).\n\n2\n\nIndicamos el tipo de gráfico con geom_histogram(). Agregamos el argumento fill para indicar el color que rellenará las barras.\n\n3\n\nCon labs (abreviatura de labels), indicamos etiquetas para el título y ejes x e y.\n\n4\n\ntheme_minimal nos da una visualización más limpia quitando el fondo gris.\n\n\n\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\nUna capa que nos permite cruzar la información para una visualización desagregada es facet_wrap.\n\n1ggplot(df, aes(x = Año)) +\n2  geom_histogram(fill = \"steelblue\") +\n3  facet_wrap(~ `Tipo filme`, scales = \"free\") +\n4  labs(title = \"Gráfico 2: Año de estreño de filmes\",\n       x = \"Año\",\n       y = \"Cantidad\") +\n5  theme_minimal()\n\n\n1\n\nDentro de la función ggplot, ingresamos en el argumento data nuestro objeto df y los elementos que deseamos graficar en la función aes (solamente usamos el argumento x en este caso).\n\n2\n\nIndicamos el tipo de gráfico con geom_histogram(). Agregamos el argumento fill para indicar el color que rellenará las barras.\n\n3\n\nEsta función divide en facetas por grupo. Colocamos la variable de grupos después del símbolo ~.\n\n4\n\nCon labs (abreviatura de labels), indicamos etiquetas para el título y ejes x e y.\n\n5\n\ntheme_minimal nos da una visualización más limpia quitando el fondo gris.\n\n\n\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`."
  },
  {
    "objectID": "semana11.html#box-plot",
    "href": "semana11.html#box-plot",
    "title": "Clase práctica Semana 11",
    "section": "Box Plot",
    "text": "Box Plot\n¿Qué variable podemos representar con un box plot?\n\n1ggplot(df, aes(y = Nota, x = `Tipo filme`, fill = `Tipo filme`)) +\n2  geom_boxplot(show.legend = F) +\n3  scale_fill_brewer(palette = \"Set3\")\n\n\n1\n\nDentro de la función ggplot, ingresamos en el argumento data nuestro objeto df. Los elementos que deseamos graficar van en la función aes.\n\n2\n\nIndicamos el tipo de gráfico con geom_boxplot(). Ocultamos la leyenda con F en el argumento show.legend.\n\n3\n\nEn scale_fill_brewer indicamos una paleta de colores para usar."
  },
  {
    "objectID": "semana10.html",
    "href": "semana10.html",
    "title": "Clase práctica Semana 10",
    "section": "",
    "text": "Material para el ejercicio\n\n\n\nDescarga la carpeta .zip para acceder al material de esta sesión. Haga click en el siguiente enlace. No olvides unzipear el archivo.\n\n\n\nIntroducción\n¿Cómo funciona R?\n\n“Todo lo que existe en R es un objeto, todo lo que sucede en R es una función.”\n-John Chambers\n\nR es un lenguaje de programación que tradicionalmente opera como funciones anidadas. Por ejemplo:\n\nsupermercado &lt;- c(\"manzana\", \"pera\", \"uva\")\ngsub(\"a\", \"A\", paste(\"mi\", supermercado))\n\n[1] \"mi mAnzAnA\" \"mi perA\"    \"mi uvA\"    \n\n\nSe podría comparar con una matrioska o muñeca rusa en la medida en que una función encapsula a otra función y así sucesivamente ejecutándose de adentro hacia afuera.\nLa manera moderna de programar en R es utilizando el operador %&gt;% o pipeta. El mismo ejemplo se vería así:\n\nlibrary(dplyr)\nsupermercado &lt;- c(\"manzana\", \"pera\", \"uva\")\nsupermercado %&gt;% \n  paste(\"mi\", .) %&gt;% \n  gsub(\"a\", \"A\", .)\n\n[1] \"mi mAnzAnA\" \"mi perA\"    \"mi uvA\"    \n\n\nLa pipeta se puede importar desde el paquete {dplyr} y se puede comparar con una tubería que pasa el resultado hacia la siguiente función, es decir, primero llamamos al objeto supermercado y luego aplicamos la función paste, y luego aplicamos la función gsub. Esta manera de programar se lee de arriba a abajo. El atajo para escribir la pipeta es ctrl + shift + m\nEn la práctica utilizaremos una combinación de la manera tradicional y moderna al momento de programar en R.\n\n\nPreparación\nPara iniciar un proyecto de R nos dirigiremos a la pestaña\nFile &gt; New Project &gt; New Directory &gt; New Project &gt; Create Project\nLuego creamos un nuevo archivo R markdown (.Rmd), nos dirigimos a la pestaña\nFile &gt; New File &gt; R Markdown &gt; Ok\nPara crear un bloque de código en R podemos hacer click en el ícono verde con la letra C en la barra superior o utilizar el atajo ctrl + alt + i\nAhora instalamos los paquetes necesarios para el ejercicio de hoy.\n\ninstall.packages(\"pacman\")\npacman::p_load(tidyverse, rio)\n\n\n\nLa función p_load() del paquete {pacman} se utiliza para importar paquetes desde el repositorio virtual CRAN.\n\n\nImportación de data\nEn esta clase, se importa la base de datos filmaffinity que contiene información sobre filmes publicados entre 1900 y 2020. Para mayor información revise el enlace.\n\nfilmaffinity &lt;- rio::import(\"data/filmaffinity_dataset.xlsx\")\n\n\n\nLa función import() del paquete {rio} se utiliza para importar bases de datos en distintos formatos como .xlsx, .csv, .sav, entre otras.\n\n\nExploración de data\nUna vez importada la base de datos a la sesión, es necesario explorarla para familiarizarnos con la información.\n\nfilmaffinity\n\n\n  \n\n\n\nLa base de filmes cuenta con 119,003 observaciones y 9 variables.\n\nfilmaffinity %&gt;% \n  count(`Tipo filme`)\n\n\n  \n\n\n\nLa mayoría de observaciones corresponden al tipo filme con 73,651 observaciones.\n\nglimpse(filmaffinity)\n\nRows: 119,003\nColumns: 9\n$ ...1         &lt;dbl&gt; 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,…\n$ Título       &lt;chr&gt; \"'49-'17\", \"10,000 Years B.C. (C)\", \"1812\", \"20.000 legua…\n$ Año          &lt;dbl&gt; 1917, 1916, 1912, 1907, 1909, 1916, 1912, 1916, 1908, 191…\n$ País         &lt;chr&gt; \"Estados Unidos\", \"Estados Unidos\", \"Rusia\", \"Francia\", \"…\n$ Dirección    &lt;chr&gt; \"Ruth Ann Baldwin\", \"Willis H. O'Brien\", \"Vasili Goncharo…\n$ Reparto      &lt;chr&gt; \"Joseph W. Girard, Leo Pierson, William Dyer, Mattie Witt…\n$ Nota         &lt;chr&gt; \"--\", \"5,1\", \"--\", \"6,0\", \"5,3\", \"--\", \"5,4\", \"--\", \"4,6\"…\n$ `Tipo filme` &lt;chr&gt; \"Película\", \"Cortometraje\", \"Película\", \"Cortometraje\", \"…\n$ Género       &lt;chr&gt; \"Western\", \"Comedia\", \"Drama\", \"Fantástico\", \"Comedia\", \"…\n\n\nEn la base de datos se tienen las variables ...1, Título, Año, País, Dirección, Reparto, Nota, Tipo filme, Género.\n\n\nLimpieza de data\nLa primera columna que corresponde al index del filme en la tabla no tiene un nombre inteligible, por lo que procedemos a renombrar esta columna.\n\nfilmaffinity2 &lt;- \n  filmaffinity %&gt;% \n1  rename(index = 1)\n\nfilmaffinity2\n\n\n1\n\nRenombrar la variable de la posición 1.\n\n\n\n\n\n  \n\n\n\nLa variable Nota actualmente figura como character en vez de numeric dado que el punto decimal está representado como una , y los valores perdidos como --. Ajustemos esta variable para poder utilizarla como variable numérica.\n\nfilmaffinity3 &lt;- \n  filmaffinity2 %&gt;% \n  mutate(\n1    Nota = gsub(\",\", \".\", Nota),\n2    Nota = gsub(\"--\", NA, Nota),\n3    Nota = as.numeric(Nota),\n  )\nfilmaffinity3\n\n\n1\n\nReemplazar el símbolo , por . en la columna Nota.\n\n2\n\nReemplazar el símbolo -- por el valor perdido NA en la columna Nota.\n\n3\n\nConvertir la columna Nota a variable numérica.\n\n\n\n\n\n  \n\n\n\nLuego de aplicar este proceso podemos realizar operaciones aritméticas con la variable Nota:\n\ntab1 &lt;- \n  filmaffinity3 %&gt;% \n  group_by(`Tipo filme`) %&gt;% \n  summarise(Nota_promedio = mean(Nota, na.rm =T))\ntab1\n\n\n  \n\n\n\nEl promedio de los filmes, considerando los puntuados, para el caso de miniserie es de 6.10.\nEn el caso de Estados Unidos, si se genera la misma tabla de frecuencias, se obtendría el siguiente resultado:\n\ntab2 &lt;- \n  filmaffinity3 %&gt;% \n1  filter(País %in% c(\"Estados Unidos\")) %&gt;%\n  group_by(`Tipo filme`) %&gt;% \n  summarise(Nota_promedio = mean(Nota, na.rm =T))\ntab2\n\n\n1\n\nSe filtra el valor \"Estados Unidos\" en la variable País.\n\n\n\n\n\n  \n\n\n\nSe observa que, para el caso de miniseries, descendió a 5.99.\n\n\nExportación de data\nFinalmente, para exportar la tabla inicial sobre la nota promedio de los filmes a excel se puede utilizar la siguiente función del paquete {rio}:\n\ntab1 %&gt;% \n  rio::export(\"data/tab1.xlsx\")\n\n\n\nLa función export() del paquete {rio} se utiliza para exportar bases de datos en distintos formatos como .xlsx, .csv, .sav, entre otras.\nUsaremos el mismo procedimiento para exportar la base que limpiamos:\n\nfilmaffinity3 %&gt;% \n  rio::export(\"data/filmaffinity_dataset_limpio.xlsx\")\n\n\n\nEjercicio final\nResponda las siguientes preguntas:\n\nCuál es la película más antigua de Estados Unidos, Perú, Chile, España\nCuál es el puntaje promedio por tipo de estos países."
  },
  {
    "objectID": "doc2.html",
    "href": "doc2.html",
    "title": "doc2",
    "section": "",
    "text": "Hi"
  },
  {
    "objectID": "clasep2.html",
    "href": "clasep2.html",
    "title": "Clase práctica 2",
    "section": "",
    "text": "intro al r\npaquetes\nimportación de data\nexploración de data\nmanipulación de data\nTablas de frecuencia\nexportacion de data\nVisualización de datos: ggplot2, plotly\nintro al rmd\n\nformatos de output: html, pdf, word\nCombinando texto, tablas, gráficos\nResultado: elaboración de reportes\n\neste es un cambio drástico"
  },
  {
    "objectID": "clasep2.html#temas",
    "href": "clasep2.html#temas",
    "title": "Clase práctica 2",
    "section": "",
    "text": "intro al r\npaquetes\nimportación de data\nexploración de data\nmanipulación de data\nTablas de frecuencia\nexportacion de data\nVisualización de datos: ggplot2, plotly\nintro al rmd\n\nformatos de output: html, pdf, word\nCombinando texto, tablas, gráficos\nResultado: elaboración de reportes\n\neste es un cambio drástico"
  },
  {
    "objectID": "doc1.html",
    "href": "doc1.html",
    "title": "doc1",
    "section": "",
    "text": "hola."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Acerca de",
    "section": "",
    "text": "En esta página podrás encontrar recursos para las clases de programación del curso."
  },
  {
    "objectID": "semana10_teoria.html",
    "href": "semana10_teoria.html",
    "title": "Clase teórica Semana 10",
    "section": "",
    "text": "peliculas=c(\"driver\",\"mike7\",\"destinofinal\",\"frozen\",\"flow\")\naño=c(2011,2025,2000,2013,2024)\ngenero=c(\"accion\",\"cienciafiction\",\"terror\",\"animacion\",\"animacion\")\n\n\ndata=data.frame(peliculas,año,genero)\n\n\nlibrary(rio)\n#export(data,\"peliculas.csv\") #csv delimitado por comas\n#export(data,\"peliculas.xlsx\") #xlsx para guarr un archivo en excel\n\n\ndata2=import(\"data/Base_Peliculas_Disney-2.sav\")\n\n\nnames(data2)\n\n[1] \"titulo_pelicula\"          \"fecha\"                   \n[3] \"antigüedad\"               \"genero\"                  \n[5] \"mpaa_rating\"              \"total_gross\"             \n[7] \"inflation_adjusted_gross\" \"genero2\"                 \n[9] \"mpaa_rating2\"            \n\n\n\nnames(data2)[6] &lt;- \"ingresos\" \n\n\ntail(data2)\n\n\n  \n\n\n\n\nstr(data2)\n\n'data.frame':   579 obs. of  9 variables:\n $ titulo_pelicula         : chr  \"Snow White and the Seven Dwarfs\" \"Pinocchio\" \"Fantasia\" \"Song of the South\" ...\n  ..- attr(*, \"format.spss\")= chr \"A40\"\n  ..- attr(*, \"display_width\")= int 40\n $ fecha                   : Date, format: \"1937-12-21\" \"1940-02-09\" ...\n $ antigüedad              : num  84.9 82.8 82 76 72.7 ...\n  ..- attr(*, \"format.spss\")= chr \"F18.15\"\n  ..- attr(*, \"display_width\")= int 16\n $ genero                  : chr  \"Musical\" \"Adventure\" \"Musical\" \"Adventure\" ...\n  ..- attr(*, \"format.spss\")= chr \"A19\"\n  ..- attr(*, \"display_width\")= int 19\n $ mpaa_rating             : chr  \"G\" \"G\" \"G\" \"G\" ...\n  ..- attr(*, \"format.spss\")= chr \"A9\"\n  ..- attr(*, \"display_width\")= int 9\n $ ingresos                : num  1.85e+08 8.43e+07 8.33e+07 6.50e+07 8.50e+07 ...\n  ..- attr(*, \"format.spss\")= chr \"F12.10\"\n  ..- attr(*, \"display_width\")= int 12\n $ inflation_adjusted_gross: num  5.23e+09 2.19e+09 2.19e+09 1.08e+09 9.21e+08 ...\n  ..- attr(*, \"format.spss\")= chr \"F13.11\"\n  ..- attr(*, \"display_width\")= int 12\n $ genero2                 : num  10 3 10 3 8 3 8 8 5 5 ...\n  ..- attr(*, \"format.spss\")= chr \"F2.0\"\n  ..- attr(*, \"display_width\")= int 9\n  ..- attr(*, \"labels\")= Named num [1:12] 2 3 4 5 6 7 8 9 10 11 ...\n  .. ..- attr(*, \"names\")= chr [1:12] \"Action\" \"Adventure\" \"Black Comedy\" \"Comedy\" ...\n $ mpaa_rating2            : num  5 5 5 5 5 NA 5 NA 5 NA ...\n  ..- attr(*, \"format.spss\")= chr \"F1.0\"\n  ..- attr(*, \"display_width\")= int 14\n  ..- attr(*, \"labels\")= Named num [1:5] 1 2 3 4 5\n  .. ..- attr(*, \"names\")= chr [1:5] \"R\" \"PG-13\" \"PG\" \"Not Rated\" ...\n\n\n\ntable(data2$genero)\n\n\n                                 Action           Adventure        Black Comedy \n                 17                  40                 129                   3 \n             Comedy Concert/Performance         Documentary               Drama \n                182                   2                  16                 114 \n             Horror             Musical     Romantic Comedy   Thriller/Suspense \n                  6                  16                  23                  24 \n            Western \n                  7 \n\n\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\ntabla_frecuencia = data2 %&gt;%\n  count(genero) %&gt;% \n  filter(!genero %in% \"\") #removemos valores perdidos\ntabla_frecuencia\n\n\n  \n\n\n\n\ntabla_porcentajes= data2 %&gt;%\n  count(genero) %&gt;% \n  filter(!genero %in% \"\") %&gt;% #removemos valores perdidos\n  mutate(porcentaje = n / sum(n) * 100)  # Calculamos el porcentaje\ntabla_porcentajes\n\n\n  \n\n\n\n\nlibrary(ggplot2)\nggplot(tabla_porcentajes, aes(x=genero,y=porcentaje, fill=genero))+\n  geom_bar(stat = \"identity\")+\n    coord_flip()+\n  labs(title = \"Gráfico de barras de porcentaje de peliculas por Genero\",\n       x = \"Genero\",\n       y = \"Porcentaje\") +\n  theme_minimal() +  # Tema minimalista\n  scale_fill_brewer(palette = \"Set3\") \n\n\n\n\n\n\n\n\n\ntabla_porcentajes2= data2 %&gt;%\n  count(mpaa_rating) %&gt;%\n  filter(!mpaa_rating %in% \"\") %&gt;% #removemos valores perdidos\n  mutate(porcentaje = n / sum(n) * 100)  # Calculamos el porcentaje\ntabla_porcentajes2\n\n\n  \n\n\n\n\nlibrary(ggplot2)\nggplot(tabla_porcentajes2, aes(x=mpaa_rating,y=porcentaje, fill=mpaa_rating))+\n  geom_bar(stat = \"identity\")+\n    coord_flip()+\n  labs(title = \"Gráfico de barras de porcentaje de peliculas por MPAA\",\n       x = \"MPAA\",\n       y = \"Porcentaje\") +\n  theme_minimal() +  # Tema minimalista\n  scale_fill_brewer(palette = \"Set3\") \n\n\n\n\n\n\n\n\n\nmean(data2$ingresos)\n\n[1] 64701789\n\n\n\nsummary(data2$ingresos)\n\n     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. \n        0  12788864  30702446  64701789  75709033 936662225 \n\n\n\ndata2$antigüedad=as.numeric(data2$antigüedad)\n\n\nsummary(data2$antigüedad)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  5.849  16.714  24.145  24.297  29.582  84.890 \n\n\n\nggplot(data2,aes(x=antigüedad))+\n  geom_histogram()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n\nggplot(data2,aes(y=antigüedad,x=genero))+\n  geom_boxplot() +\n  coord_flip()"
  },
  {
    "objectID": "semana11_teoria.html",
    "href": "semana11_teoria.html",
    "title": "Clase teórica Semana 11",
    "section": "",
    "text": "library(rio)\nlibrary(dplyr)\nlibrary(scales)\ndata=import(\"data/MDb Top Rated Titles.xlsx\")\n\ndata=data %&gt;% \n  filter(!is.na(type)) # removemos valores perdidos en la variable type\n\n\ntabla_porcentajes= data %&gt;%\n  count(type) %&gt;%\n mutate(porcentaje = n / sum(n) * 100)  # Calculamos el porcentaje\ntabla_porcentajes\n\n\n  \n\n\n\n\nlibrary(ggplot2)\nggplot(tabla_porcentajes, aes(x=type,y=porcentaje, fill=type))+\n  geom_bar(stat = \"identity\")+\n    coord_flip()+\n  labs(title = \"Gráfico de barras de porcentaje de peliculas por tipo\",\n       x = \"tipo\",\n       y = \"Porcentaje\") +\n  geom_text(aes(label=round(porcentaje,1)), vjust=-0.3) +\n  theme_minimal() +  # Tema minimalista\n  scale_fill_brewer(palette = \"Set3\") \n\n\n\n\n\n\n\n\n\nnames(data)\n\n[1] \"id\"            \"title\"         \"type\"          \"genres\"       \n[5] \"averageRating\" \"numVotes\"      \"releaseYear\"  \n\n\n\ntabla_edescriptivos=data%&gt;%\n  summarise(promedio=mean(averageRating,na.rm=T),\n            mediana=median(averageRating,na.rm=T),\n            minimo=min(averageRating,na.rm=T),\n            maximo=max(averageRating,na.rm=T),\n            desviacion=sd(averageRating,na.rm=T))\n\ntabla_edescriptivos\n\n\n  \n\n\n\n\ntabla_edescriptivos=data%&gt;%\n  group_by(type)%&gt;%\n  summarise(promedio=mean(averageRating,na.rm=T),\n            mediana=median(averageRating,na.rm=T),\n            minimo=min(averageRating,na.rm=T),\n            maximo=max(averageRating,na.rm=T),\n            desviacion=sd(averageRating,na.rm=T))\n\ntabla_edescriptivos\n\n\n  \n\n\n\n\nlibrary(ggplot2)\nggplot(data,aes(y=averageRating,x=type))+\n  geom_boxplot()\n\n\n\n\n\n\n\n\n\nlibrary(ggplot2)\nggplot(data,aes(y=numVotes,x=type))+\n  geom_boxplot()\n\n\n\n\n\n\n\n\n\ntable(data$type)\n\n\n       movie tvMiniSeries     tvSeries \n        4105          278         1650 \n\n\n\nggplot(data, aes(x = averageRating, fill = type)) +\n  geom_histogram() +\n  facet_wrap(~ type, scales = \"free\") +  # Divide en facetas por grupo\n  labs(title = \"Histogramas de Variable Numérica por Grupo\",\n       x = \"Valor\", y = \"Frecuencia\") \n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n\nggplot(data, aes(x = numVotes, fill = type)) +\n  geom_histogram() +\n  facet_wrap(~ type, scales = \"free\") +  # Divide en facetas por grupo\n  scale_x_continuous(n.breaks = 3, labels = label_number()) + # especificar 2 cortes en eje x y evitar numeros en notacion cientifica\n  labs(title = \"Histogramas de Variable Numérica por Grupo\",\n       x = \"Valor\", y = \"Frecuencia\") \n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n\nggplot(data, aes(x = averageRating, fill = type)) +\n  geom_histogram(binwidth = 2, alpha = 0.6, position = \"identity\", color = \"black\") +\n  labs(title = \"Histograma de Variable Numérica por Grupo\",\n       x = \"Valor\", y = \"Frecuencia\") +\n  theme_minimal() +\n  scale_fill_manual(values = c(\"movie\" = \"red\", \"tvMiniSeries\" = \"blue\", \"tvSeries\" = \"green\"))  # Colores por grupo"
  }
]